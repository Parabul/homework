<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Проверка документов с сайта электронного правительства</title>

<!-- Bootstrap -->
<link href="/resources/css/bootstrap.min.css" rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<h2>Проверка документов с сайта электронного правительства</h2>

	<form id="pdf-form" method="POST" enctype="multipart/form-data"
		action="/upload">	 Исходный pdf-файл загруженный с сайта egov.kz
	<input type="file" name="file">
	<br />
	<button id="upload-btn">Загрузить</button>

	</form>
	<pre class="well" id="result" style="display: none;"></pre>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
	<script src="http://malsup.github.io/min/jquery.form.min.js"></script>
	<script src="http://malsup.github.io/jquery.blockUI.js"></script>


	<script src="/resources/js/bootstrap.min.js">
	</script>

	<script>
		$(function() {
			$("#result").html("");
			console.log('ready...');
			$("#upload-btn").click(function() {
				{
					$("#pdf-form").ajaxForm({
						beforeSubmit : function(a, f, o) {
							console.log('Submitting...');
							$.blockUI({
								message : '<h4>Идет извлечение данных...</h4>'
							});
						},
						success : function(data) {

							$('#result').html(data);
							$('#result').show('slow');
							$.unblockUI();
						}
					});
				}
			});

		});
	</script>
</body>
</html>